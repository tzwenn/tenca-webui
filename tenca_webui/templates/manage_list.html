{% extends 'base.html' %}

{% block header %}
{% block title %}Manage List{% endblock %}
{% endblock %}

{% block content %}
{% import '_macros.html' as tenca_macros %}

<p>This is the admin view for the owners of {{ tenca_macros.css_codify(mailing_list.fqdn_listname) }}.</p>

<h4 class="title is-4">Invite Link</h4>

<p>Share this link to invite new members: </p>
<p>
{{ tenca_macros.copyable_link_box('invite_link', url_for('change_membership.index', hash_id=mailing_list.hash_id, _external=True)) }}
</p>


<p>
<h4 class="title is-4">Members</h4>

{% for member in mailing_list.list.members %}
<form>
	<div class="box">
		<div class="columns">
			<div class="column">
				{{ tenca_macros.css_codify(member.address) }}
			</div>
			<div class="column is-1 has-text-right">
				<button class="button icon is-danger" title="Remove User" type="submit">
					<i class="fas fa-trash fa-xs"></i>
				</button>
			</div>
		</div>
	</div>
</form>
{% endfor %}
</p>

<p>
<h4 class="title is-4">Delete List</h4>

<form>
	<p>This permanently deletes all memberships and settings.
	Please, type the list's address in all-caps ({{ tenca_macros.css_codify(mailing_list.fqdn_listname, other_classes="is-uppercase") }}) to confirm:</p>

	<div class="field has-addons">
		<div class="control is-expanded">
		  <input class="input" type="verification_name" placeholder="Type in upper-case address to confirm">
		</div>
		<div class="control">
		  <a class="button is-danger">
			Delete
		  </a>
		</div>
	  </div>
</form>
</p>


{% endblock %}